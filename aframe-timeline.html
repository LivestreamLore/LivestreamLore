<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Livestream Lore - 3D Timeline</title>
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
    <style>
      body {
        margin: 0;
        background-color: black;
        font-family: monospace;
      }
      .tooltip {
        position: absolute;
        color: #00ffee;
        background: #111;
        padding: 5px 10px;
        border: 1px solid #00ffee;
        border-radius: 4px;
        pointer-events: none;
        display: none;
      }
    </style>
  </head>

  <body>
    <div id="tooltip" class="tooltip"></div>

    <a-scene>
      <!-- Floating forward camera -->
      <a-entity 
        id="cameraRig"
        position="0 1.6 0"
        animation="property: position; to: 0 1.6 -100; dur: 60000; easing: linear"
      >
        <a-camera></a-camera>
      </a-entity>

      <!-- Timeline river -->
      <a-box position="0 0 -50" depth="200" height="0.1" width="4" color="#1e1e1e"></a-box>

      <!-- Event markers -->
      <a-sphere 
        position="0 1.5 -10" radius="0.3" color="#00ffee"
        event-set__enter="_event: mouseenter; scale: 1.3 1.3 1.3"
        event-set__leave="_event: mouseleave; scale: 1 1 1"
        class="event" data-desc="2007 – Justin.tv Launches"
      ></a-sphere>

      <a-sphere 
        position="1 1.5 -25" radius="0.3" color="#ff00ff"
        class="event" data-desc="2011 – Twitch Spins Off"
      ></a-sphere>

      <a-sphere 
        position="-1 1.5 -40" radius="0.3" color="#ffaa00"
        class="event" data-desc="2014 – Amazon Acquires Twitch"
      ></a-sphere>

      <!-- Lighting -->
      <a-entity light="type: ambient; color: #ccc"></a-entity>
      <a-entity light="type: directional; intensity: 0.5" position="1 3 1"></a-entity>
    </a-scene>

    <script>
      const tooltip = document.getElementById("tooltip");

      // Display tooltip on hover
      document.querySelectorAll('.event').forEach(el => {
        el.addEventListener('mouseenter', e => {
          const desc = el.getAttribute('data-desc');
          tooltip.style.display = 'block';
          tooltip.innerText = desc;
        });

        el.addEventListener('mouseleave', () => {
          tooltip.style.display = 'none';
        });

        el.addEventListener('mousemove', e => {
          tooltip.style.top = (e.clientY + 15) + 'px';
          tooltip.style.left = (e.clientX + 15) + 'px';
        });

        el.addEventListener('dblclick', () => {
          alert("Open detailed view for: " + el.getAttribute('data-desc'));
          // Later: Open side panel or redirect
        });
      });
    </script>
  </body>
</html>
